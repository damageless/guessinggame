<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Guessing Game</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>
  <script>
    function sendScore() {
      $.ajax({
        type: "POST",
        url: 'SaveScore.php',
        data: { turns: count },
        success: function(data) { console.log(data) }
      });
    }

    function getHighScore() {
      $.get("GetHighScore.php", function(data) {
        $("#currentHighScore").html(data);
      });
    }

    var x = Math.floor(Math.random() * 10) + 1;
    var count = 0;


    function checkGuess() {
      count++;
      guess = Number(document.getElementById('numberGuess').value);
      if (guess == x) {
        document.getElementById('hintText').innerHTML = "You won in " + count + " attempts!";

        sendScore();
        getHighScore();
      } else {
        var hint = 'Nope';
        if (guess < x) hint += ' Too Small!';
        if (guess > x) hint += ' Too Big!';
        document.getElementById('hintText').innerHTML = hint;
      }
    }
    console.log(count);
  </script>

  Guess a number between 1-10<br />
  <input type="text" name="guess" id="numberGuess" /><input type="button" value="Guess!" onclick="checkGuess();" />
  <br />
  <span id="hintText"></span><br />
  Current High Score: <span id="currentHighScore"></span>

</body>
</html>
